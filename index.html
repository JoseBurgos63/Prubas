<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simulador Arquitectura (200 Preguntas)</title>
  <link rel="stylesheet" href="styles.css" />
  </head>
<body>

  <div id="setupScreen" class="setup-container">
    <div class="intro-box">
      <img src="img/cornejo.jpg" alt="Simulador" class="setup-img" onerror="this.src='https://via.placeholder.com/150?text=CPU'">
      <h1>Si no pasas seras como el</h1>
      <p>Base de datos: <strong>200 Preguntas</strong> con Justificaci√≥n.</p>
      
      <div style="margin-top: 25px; margin-bottom: 10px;">
        <button class="btn primary" style="width: 100%; padding: 15px; font-size: 1.1rem; border: 2px solid var(--accent-blue);" onclick="startQuiz(10)">
          ‚ö° Pr√°ctica R√°pida (10 Preguntas)
        </button>
      </div>

      <p style="font-size: 0.9rem; margin-top: 20px;">O selecciona cantidad:</p>
      
      <div id="dynamicButtons" class="difficulty-buttons">
        </div>
    </div>
  </div>

  <div id="quizScreen" class="hide">
    
    <header class="topbar">
      <div class="topbar__inner">
        <div class="branding">
          <button id="homeBtn" class="btn-icon" title="Volver al Inicio" style="background:none; border:none; font-size:1.5rem; cursor:pointer;">üè†</button>
          <div style="margin-left:10px;">
            <h1 style="margin:0; font-size:1.2rem;">Simulador Examen</h1>
            <p style="margin:0; font-size:0.8rem; color:#666;">Arquitectura de Computadoras</p>
          </div>
        </div>

        <div class="topbar__controls">
          <label class="switch">
            <input id="modeToggle" type="checkbox" checked />
            <span class="slider"></span>
          </label>
          <div class="modeText">
            <div style="font-weight:bold;">Modo Pr√°ctica</div>
            <div style="color:#666; font-size:0.75rem;">Muestra explicaci√≥n</div>
          </div>
        </div>
      </div>

      <div class="stats">
        <div class="pill"><span id="answered">0</span>/<span id="totalQ">0</span></div>
        <div class="pill">Score: <span id="score">0</span>%</div>
        <button id="gradeBtn" class="btn primary">Calificar</button>
        <button id="resetBtn" class="btn secondary">Reiniciar</button>
      </div>
    </header>

    <main class="container">
      <div id="quiz"></div>

      <div class="card result" id="resultCard" hidden>
        <h2>Resultado Final</h2>
        <div id="resultContent"></div> 
        
        <div class="actions" style="margin-top:20px;">
          <button id="reviewWrongBtn" class="btn primary">Revisar Errores</button>
          <button id="showAllBtn" class="btn secondary">Ver Todas</button>
          <button onclick="goHome()" class="btn secondary">Volver al Inicio</button>
        </div>
      </div>
    </main>
  </div>

  <script>
    // ============================================
    // BASE DE DATOS MAESTRA (200 PREGUNTAS)
    // ============================================
    const MASTER_DB = [
      // 1-10: Conceptos B√°sicos de Informaci√≥n y Sistemas
      {n:1, q:"¬øCu√°l es la materia prima de la cual se deriva la informaci√≥n?", A:"Datos", B:"Conocimiento", C:"Sabidur√≠a", D:"Experiencia", ans:"A", why:"Los datos son la materia prima que se procesa para obtener informaci√≥n significativa."},
      {n:2, q:"¬øC√≥mo se define 'informaci√≥n'?", A:"Conjunto de datos organizados y procesados con significado y utilidad.", B:"Hechos crudos sin contexto ni procesamiento.", C:"La capacidad de aplicar conocimientos t√©cnicos.", D:"Los componentes f√≠sicos de una computadora.", ans:"A", why:"La informaci√≥n se genera a partir del procesamiento de datos y es esencial para la comprensi√≥n y la acci√≥n."},
      {n:3, q:"¬øQu√© caracter√≠stica de la informaci√≥n se refiere a su ausencia de errores?", A:"Exactitud", B:"Oportunidad", C:"Relevancia", D:"Integridad", ans:"A", why:"La exactitud significa que la informaci√≥n debe ser precisa y libre de errores."},
      {n:4, q:"¬øQu√© tipo de sistema interact√∫a con su entorno?", A:"Sistema abierto", B:"Sistema cerrado", C:"Sistema aislado", D:"Sistema est√°tico", ans:"A", why:"Los sistemas abiertos intercambian energ√≠a, materia o informaci√≥n con su entorno."},
      {n:5, q:"¬øQu√© es un 'sistema inform√°tico'?", A:"Conjunto de componentes interrelacionados (hardware, software, humano) que procesan datos.", B:"Simplemente el sistema operativo de la PC.", C:"Una red social de intercambio de mensajes.", D:"Un conjunto de cables y circuitos sin programas.", ans:"A", why:"Un sistema inform√°tico combina elementos f√≠sicos, l√≥gicos y humanos para realizar tareas de procesamiento de informaci√≥n."},
      {n:6, q:"¬øCu√°l de los siguientes es un componente f√≠sico de un sistema inform√°tico?", A:"Hardware", B:"Sistema operativo", C:"Aplicaciones", D:"Datos", ans:"A", why:"El hardware comprende todos los componentes f√≠sicos y tangibles de una computadora."},
      {n:7, q:"¬øQu√© propiedad se refiere a la capacidad de funcionar sin fallos durante un per√≠odo de tiempo?", A:"Fiabilidad", B:"Disponibilidad", C:"Seguridad", D:"Escalabilidad", ans:"A", why:"La fiabilidad mide la probabilidad de que un sistema funcione correctamente durante un tiempo determinado."},
      {n:8, q:"Define 'seguridad' en un sistema inform√°tico:", A:"Protecci√≥n del sistema y datos contra accesos no autorizados o da√±os.", B:"La velocidad a la que procesa los datos.", C:"La capacidad de crecer en tama√±o.", D:"La facilidad de uso para el usuario.", ans:"A", why:"La seguridad es fundamental para mantener la confidencialidad, integridad y disponibilidad de la informaci√≥n."},
      {n:9, q:"¬øQui√©n propuso la arquitectura b√°sica de las computadoras modernas?", A:"John von Neumann", B:"Alan Turing", C:"Charles Babbage", D:"Ada Lovelace", ans:"A", why:"La arquitectura de von Neumann describe el dise√±o fundamental de la mayor√≠a de las computadoras modernas."},
      {n:10, q:"¬øQu√© componente de la CPU realiza las operaciones matem√°ticas y l√≥gicas?", A:"Unidad Aritm√©tico-L√≥gica (ALU)", B:"Unidad de Control (UC)", C:"Registros", D:"Bus de datos", ans:"A", why:"La ALU es responsable de ejecutar c√°lculos aritm√©ticos (suma, resta) y operaciones l√≥gicas (AND, OR)."},

      // 11-20: Memoria, E/S y Software
      {n:11, q:"¬øQu√© es la 'memoria principal' (RAM)?", A:"Memoria vol√°til que almacena temporalmente datos y programas en uso.", B:"Memoria permanente para guardar archivos a largo plazo.", C:"Memoria interna del procesador.", D:"Memoria de solo lectura.", ans:"A", why:"La memoria principal proporciona un acceso r√°pido a la informaci√≥n necesaria para el procesamiento actual."},
      {n:12, q:"¬øCu√°l es el prop√≥sito de la jerarqu√≠a de memoria?", A:"Optimizar el rendimiento y el costo del almacenamiento.", B:"Aumentar solo la capacidad sin importar la velocidad.", C:"Reducir el consumo el√©ctrico exclusivamente.", D:"Simplificar el dise√±o de la caja del PC.", ans:"A", why:"La jerarqu√≠a utiliza diferentes niveles con distintas velocidades y costos para lograr equilibrio entre rendimiento y precio."},
      {n:13, q:"Ejemplos de dispositivos de entrada:", A:"Teclado y rat√≥n (mouse).", B:"Monitor e impresora.", C:"Altavoces y proyector.", D:"Disco duro y RAM.", ans:"A", why:"Estos dispositivos permiten al usuario introducir datos y comandos en la computadora."},
      {n:14, q:"¬øQu√© funci√≥n cumplen los buses?", A:"Conectar componentes y permitir la transferencia de datos.", B:"Almacenar datos permanentemente.", C:"Procesar c√°lculos matem√°ticos.", D:"Enfriar el sistema.", ans:"A", why:"Los buses son los canales de comunicaci√≥n entre la CPU, la memoria y los dispositivos de E/S."},
      {n:15, q:"¬øQu√© es el 'software de sistema'?", A:"Programas que gestionan los recursos del hardware (ej. Sistema Operativo).", B:"Programas para tareas espec√≠ficas del usuario (ej. Word).", C:"La parte f√≠sica del computador.", D:"Los datos brutos del usuario.", ans:"A", why:"Proporciona una plataforma para que se ejecute el software de aplicaci√≥n."},
      {n:16, q:"Diferencia principal entre datos e informaci√≥n:", A:"Datos son hechos crudos; Informaci√≥n son datos procesados con significado.", B:"Son exactamente lo mismo.", C:"Informaci√≥n son los n√∫meros; Datos son las letras.", D:"Datos es software; Informaci√≥n es hardware.", ans:"A", why:"La informaci√≥n se deriva del procesamiento de datos y proporciona conocimiento."},
      {n:17, q:"¬øQu√© tipo de sistema tiene un prop√≥sito espec√≠fico y definido?", A:"Sistema artificial", B:"Sistema natural", C:"Sistema abstracto", D:"Sistema aleatorio", ans:"A", why:"Los sistemas artificiales son creados por el ser humano con un objetivo determinado."},
      {n:18, q:"Define 'relevancia' en la informaci√≥n:", A:"La informaci√≥n es importante y aplicable al problema actual.", B:"La informaci√≥n no tiene errores.", C:"La informaci√≥n llega a tiempo.", D:"La informaci√≥n es completa.", ans:"A", why:"La informaci√≥n relevante ayuda directamente a tomar mejores decisiones en el contexto dado."},
      {n:19, q:"¬øQu√© componente incluye a los usuarios y profesionales?", A:"Factor humano", B:"Hardware", C:"Software", D:"Firmware", ans:"A", why:"El factor humano es esencial para el dise√±o, desarrollo, uso y mantenimiento de los sistemas."},
      {n:20, q:"¬øQu√© es la 'escalabilidad'?", A:"Capacidad de adaptarse a un aumento en la carga de trabajo.", B:"Capacidad de funcionar sin fallos.", C:"Capacidad de protegerse de virus.", D:"Capacidad de encenderse r√°pido.", ans:"A", why:"Permite que un sistema crezca y maneje m√°s demandas sin perder rendimiento."},

      // 21-30: CPU, Memoria y Tipos de Sistema
      {n:21, q:"Define 'CPU' (Unidad Central de Procesamiento):", A:"Cerebro de la computadora, ejecuta instrucciones y controla componentes.", B:"Dispositivo para guardar archivos.", C:"Pantalla donde se ve la informaci√≥n.", D:"Programa para navegar en internet.", ans:"A", why:"La CPU realiza las operaciones fundamentales de procesamiento de datos."},
      {n:22, q:"¬øQu√© unidad dirige y coordina las operaciones del sistema?", A:"Unidad de Control (UC)", B:"ALU", C:"Registros", D:"Bus de direcciones", ans:"A", why:"La UC obtiene instrucciones, las decodifica y genera las se√±ales para ejecutarlas."},
      {n:23, q:"Ejemplos de dispositivos de salida:", A:"Monitor e impresora.", B:"Teclado y mouse.", C:"Esc√°ner y micr√≥fono.", D:"Webcam y joystick.", ans:"A", why:"Presentan los resultados del procesamiento de datos al usuario."},
      {n:24, q:"¬øQu√© memoria almacena datos permanentemente (incluso apagada)?", A:"Memoria secundaria (Disco duro/SSD)", B:"Memoria RAM", C:"Registros", D:"Memoria Cach√©", ans:"A", why:"La memoria secundaria es no vol√°til y ofrece almacenamiento a largo plazo."},
      {n:25, q:"¬øQu√© es el 'software de aplicaci√≥n'?", A:"Programas para ayudar al usuario en tareas espec√≠ficas (ej. Navegar, Escribir).", B:"El sistema operativo.", C:"Los drivers del hardware.", D:"El c√≥digo binario del procesador.", ans:"A", why:"Utiliza los recursos del sistema para realizar funciones √∫tiles para el usuario."},
      {n:26, q:"¬øQu√© es la 'oportunidad' en la informaci√≥n?", A:"Disponibilidad en el momento necesario.", B:"Ausencia de errores.", C:"Facilidad de comprensi√≥n.", D:"Que sea muy detallada.", ans:"A", why:"La informaci√≥n oportuna est√° disponible justo cuando se necesita para decidir."},
      {n:27, q:"Define 'conocimiento':", A:"Comprensi√≥n y experiencia adquiridas a trav√©s de informaci√≥n y aprendizaje.", B:"Datos sin procesar.", C:"Archivos guardados en el disco.", D:"Componentes electr√≥nicos.", ans:"A", why:"El conocimiento va m√°s all√° de la informaci√≥n, permitiendo decisiones informadas."},
      {n:28, q:"¬øQu√© sistema est√° compuesto por elementos f√≠sicos tangibles?", A:"Sistema f√≠sico", B:"Sistema abstracto", C:"Sistema l√≥gico", D:"Sistema conceptual", ans:"A", why:"Los sistemas f√≠sicos tienen una existencia material visible y tangible."},
      {n:29, q:"Componente que incluye programas y datos:", A:"Software", B:"Hardware", C:"Humanware", D:"Perif√©ricos", ans:"A", why:"El software abarca la parte l√≥gica e intangible del sistema."},
      {n:30, q:"¬øQu√© es la 'disponibilidad'?", A:"Capacidad de estar operativo y accesible cuando se necesita.", B:"Que el sistema sea r√°pido.", C:"Que el sistema sea barato.", D:"Que el sistema sea f√°cil de arreglar.", ans:"A", why:"Mide la proporci√≥n de tiempo que un sistema funciona correctamente y es accesible."},

      // 31-40: Buses, Registros y Conceptos Avanzados
      {n:31, q:"¬øQu√© es un 'bus de datos'?", A:"L√≠neas f√≠sicas para transferir datos entre componentes.", B:"L√≠neas para enviar direcciones de memoria.", C:"Cable de corriente el√©ctrica.", D:"Un tipo de memoria USB.", ans:"A", why:"El bus de datos transporta la informaci√≥n real que se est√° procesando."},
      {n:32, q:"Memoria m√°s r√°pida que se encuentra DENTRO de la CPU:", A:"Registros", B:"RAM", C:"Disco Duro", D:"Cach√© L3", ans:"A", why:"Los registros son almacenamientos diminutos de ultra-alta velocidad para datos inmediatos."},
      {n:33, q:"Ejemplos de dispositivos de Entrada/Salida (E/S):", A:"Pantalla t√°ctil y m√≥dem.", B:"Teclado y Monitor.", C:"Impresora y Mouse.", D:"Altavoz y Micr√≥fono.", ans:"A", why:"Pueden tanto enviar datos a la computadora como recibir datos de ella."},
      {n:34, q:"¬øQu√© funci√≥n cumple el 'reloj del sistema'?", A:"Sincronizar las operaciones de los componentes mediante pulsos.", B:"Mostrar la hora en la barra de tareas.", C:"Apagar el equipo a una hora programada.", D:"Medir la temperatura del CPU.", ans:"A", why:"Genera pulsos a frecuencia constante para coordinar el ritmo de la CPU."},
      {n:35, q:"Define 'sistema operativo':", A:"Software principal que gestiona hardware y provee servicios a aplicaciones.", B:"Un programa para editar fotos.", C:"Un componente f√≠sico de la placa base.", D:"Un tipo de virus.", ans:"A", why:"Act√∫a como intermediario vital entre el usuario, las aplicaciones y el hardware."},
      {n:36, q:"¬øQu√© es la 'integridad' de la informaci√≥n?", A:"Completitud y falta de omisiones.", B:"Que sea verdadera.", C:"Que llegue r√°pido.", D:"Que sea f√°cil de leer.", ans:"A", why:"La informaci√≥n √≠ntegra debe estar completa, sin que falten partes importantes."},
      {n:37, q:"Define 'sabidur√≠a':", A:"Capacidad de aplicar conocimiento con buen juicio para decidir.", B:"Tener muchos datos guardados.", C:"Saber programar.", D:"Memorizar textos.", ans:"A", why:"Implica comprensi√≥n profunda y uso √©tico/efectivo del conocimiento."},
      {n:38, q:"¬øQu√© tipo de sistema NO interact√∫a con su entorno?", A:"Sistema cerrado", B:"Sistema abierto", C:"Sistema din√°mico", D:"Sistema adaptable", ans:"A", why:"Est√°n aislados y no intercambian energ√≠a, materia o informaci√≥n con el exterior."},
      {n:39, q:"Componente referido a 'hechos crudos':", A:"Datos", B:"Informaci√≥n", C:"Conocimiento", D:"Sabidur√≠a", ans:"A", why:"Los datos son la entrada b√°sica sin procesar."},
      {n:40, q:"¬øQu√© es la 'mantenibilidad'?", A:"Facilidad para modificar, reparar o actualizar el sistema.", B:"Capacidad de mantenerse encendido.", C:"Resistencia a golpes.", D:"Velocidad de procesamiento.", ans:"A", why:"Mide cu√°n f√°cil es corregir o mejorar el sistema."},

      // 41-50: Detalles T√©cnicos y Propiedades
      {n:41, q:"¬øQu√© es un 'bus de direcciones'?", A:"L√≠neas para especificar la ubicaci√≥n de memoria o dispositivo E/S.", B:"L√≠neas para enviar datos.", C:"L√≠neas de control.", D:"Direcci√≥n IP del equipo.", ans:"A", why:"Transporta la direcci√≥n (ubicaci√≥n) donde la CPU quiere leer o escribir."},
      {n:42, q:"Memoria temporal para datos que la CPU necesitar√° pronto:", A:"Memoria Cach√©", B:"Disco Duro", C:"DVD", D:"Cinta magn√©tica", ans:"A", why:"Es m√°s r√°pida que la RAM y acelera el acceso a datos frecuentes."},
      {n:43, q:"Ejemplos de software de sistema:", A:"Windows, Linux, controladores (drivers).", B:"Word, Excel, Chrome.", C:"Juegos de video.", D:"P√°ginas web.", ans:"A", why:"Son esenciales para el funcionamiento base del equipo."},
      {n:44, q:"¬øQu√© hace el 'ciclo de instrucci√≥n'?", A:"Obtiene, decodifica y ejecuta instrucciones de programas.", B:"Limpia la memoria RAM.", C:"Inicia el sistema operativo.", D:"Conecta a internet.", ans:"A", why:"Es el proceso c√≠clico fundamental de la CPU para procesar software."},
      {n:45, q:"Define 'perif√©rico':", A:"Dispositivo externo para E/S o almacenamiento conectado al PC.", B:"El procesador central.", C:"La memoria interna.", D:"El bus del sistema.", ans:"A", why:"Ampl√≠an las capacidades y permiten interacci√≥n con el entorno."},
      {n:46, q:"Caracter√≠stica de f√°cil comprensi√≥n y claridad:", A:"Comprensibilidad", B:"Complejidad", C:"Seguridad", D:"Fiabilidad", ans:"A", why:"La informaci√≥n debe ser f√°cil de entender para ser √∫til."},
      {n:47, q:"Define 'sistema' en general:", A:"Conjunto de elementos interrelacionados con un objetivo com√∫n.", B:"Un conjunto de cables.", C:"Un grupo de personas.", D:"Una computadora aislada.", ans:"A", why:"Se caracteriza por su estructura, componentes e interacciones."},
      {n:48, q:"Sistema que cambia y evoluciona con el tiempo:", A:"Sistema din√°mico", B:"Sistema est√°tico", C:"Sistema cerrado", D:"Sistema r√≠gido", ans:"A", why:"Los sistemas din√°micos se adaptan y cambian constantemente."},
      {n:49, q:"Componente para que usuarios realicen tareas espec√≠ficas:", A:"Software de aplicaci√≥n", B:"Software de sistema", C:"BIOS", D:"Hardware", ans:"A", why:"Dise√±ado para satisfacer necesidades concretas del usuario final."},
      {n:50, q:"¬øQu√© es la 'portabilidad'?", A:"Capacidad de funcionar en diferentes entornos o plataformas.", B:"Que el equipo sea liviano.", C:"Que use bater√≠a.", D:"Que sea peque√±o.", ans:"A", why:"Facilidad con la que el software o sistema se transfiere de un entorno a otro."},

      // 51-60: Buses y Fuente de Poder (PSU)
      {n:51, q:"¬øQu√© problema surge al conectar muchos dispositivos a un bus compartido?", A:"Se produce retardo de propagaci√≥n que afecta el rendimiento.", B:"Aumenta la velocidad de transferencia.", C:"Disminuye el consumo de energ√≠a.", D:"El bus se vuelve m√°s seguro.", ans:"A", why:"Cuantos m√°s dispositivos se conectan, mayor es la carga y la longitud f√≠sica, introduciendo retardos y cuellos de botella."},
      {n:52, q:"¬øCu√°l es la soluci√≥n para evitar cuellos de botella en un bus saturado?", A:"Implementar una jerarqu√≠a de buses.", B:"Usar cables m√°s gruesos.", C:"Eliminar la memoria cach√©.", D:"Apagar los perif√©ricos.", ans:"A", why:"Organizar los buses jer√°rquicamente separa dispositivos r√°pidos de los lentos, optimizando el flujo de datos."},
      {n:53, q:"Define 'PSU' (Power Supply Unit):", A:"Dispositivo que convierte corriente alterna (AC) en continua (DC) para el PC.", B:"Unidad de almacenamiento de datos.", C:"El procesador gr√°fico.", D:"La bater√≠a del reloj.", ans:"A", why:"Es la fuente de alimentaci√≥n encargada de suministrar los voltajes correctos a los componentes internos."},
      {n:54, q:"¬øEn qu√© unidad se mide la potencia de una fuente de alimentaci√≥n?", A:"Vatios (Watts)", B:"Voltios", C:"Amperios", D:"Ohmios", ans:"A", why:"La capacidad total de energ√≠a que puede entregar una fuente se mide en Vatios (W)."},
      {n:55, q:"Dos tecnolog√≠as principales de fuentes de alimentaci√≥n:", A:"Lineal y Conmutada.", B:"Anal√≥gica y Digital.", C:"Solar y E√≥lica.", D:"Est√°tica y Din√°mica.", ans:"A", why:"Son los dos dise√±os b√°sicos para la conversi√≥n de energ√≠a el√©ctrica en computadoras."},
      {n:56, q:"¬øQu√© significa BIOS?", A:"Basic Input/Output System (Sistema B√°sico de Entrada/Salida).", B:"Binary Integrated Operating System.", C:"Base Internal Operating Source.", D:"Bus Input Output Serial.", ans:"A", why:"Es el firmware fundamental que inicializa el hardware durante el arranque."},
      {n:57, q:"Funci√≥n principal de la BIOS al arrancar:", A:"Realizar el POST e inicializar el hardware.", B:"Cargar Windows inmediatamente.", C:"Formatear el disco duro.", D:"Conectarse a internet.", ans:"A", why:"Verifica que componentes cr√≠ticos (CPU, RAM, video) funcionen antes de entregar el control al SO."},
      {n:58, q:"¬øQu√© es UEFI?", A:"Est√°ndar moderno que reemplaza a la BIOS (Interfaz de Firmware Extensible Unificada).", B:"Un tipo de tarjeta gr√°fica.", C:"Un nuevo conector USB.", D:"Una marca de procesador.", ans:"A", why:"Ofrece m√°s funcionalidades, interfaz gr√°fica y supera limitaciones de la BIOS tradicional."},
      {n:59, q:"Diferencia visual clave entre BIOS y UEFI:", A:"UEFI tiene interfaz gr√°fica con mouse; BIOS es solo texto/teclado.", B:"BIOS es azul y UEFI es rojo.", C:"No hay diferencia visual.", D:"UEFI es en blanco y negro.", ans:"A", why:"UEFI permite una interacci√≥n m√°s amigable y avanzada con el usuario."},
      {n:60, q:"Bater√≠a com√∫n en la placa base para la BIOS/CMOS:", A:"CR2032", B:"AA", C:"AAA", D:"9V", ans:"A", why:"Es una pila de litio tipo bot√≥n est√°ndar para alimentar el chip CMOS cuando la PC est√° apagada."},

      // 61-70: Placa Madre, Chipset y UEFI
      {n:61, q:"Funci√≥n del RTC (Real Time Clock) alimentado por bater√≠a:", A:"Mantener fecha y hora cuando el PC est√° desconectado.", B:"Medir la temperatura.", C:"Acelerar el procesador.", D:"Encender los ventiladores.", ans:"A", why:"Sin la bater√≠a, el reloj del sistema se reiniciar√≠a en cada apagado."},
      {n:62, q:"¬øPor qu√© actualizar la BIOS/UEFI?", A:"Para mejorar compatibilidad con nuevo hardware o corregir errores.", B:"Para cambiar los colores de Windows.", C:"Para aumentar la RAM f√≠sica.", D:"Para borrar virus.", ans:"A", why:"Las actualizaciones suelen a√±adir soporte para CPUs nuevas o solucionar fallos de estabilidad."},
      {n:63, q:"¬øLa fuente de alimentaci√≥n protege de problemas de voltaje?", A:"Verdadero, regula y filtra picos de la red el√©ctrica.", B:"Falso, no tiene protecci√≥n.", C:"Solo si es marca Dell.", D:"Solo si el PC est√° apagado.", ans:"A", why:"Una buena PSU filtra ruido el√©ctrico y regula el voltaje para proteger los componentes."},
      {n:64, q:"Componente que conecta el procesador a la placa:", A:"Z√≥calo (Socket)", B:"Ranura PCI", C:"Puerto SATA", D:"Chipset", ans:"A", why:"El z√≥calo es la matriz de conexiones dise√±ada para alojar el microprocesador."},
      {n:65, q:"¬øQu√© es un 'slot' de expansi√≥n?", A:"Conector para insertar tarjetas adicionales (video, red, etc.).", B:"Un puerto USB externo.", C:"El bot√≥n de encendido.", D:"La ranura del DVD.", ans:"A", why:"Permiten ampliar las capacidades del computador conectando tarjetas a los buses del sistema."},
      {n:66, q:"¬øQu√© pasa si la bater√≠a de la placa se agota?", A:"Se pierde la configuraci√≥n de BIOS (hora, arranque) al apagar.", B:"El PC explota.", C:"Se borra el disco duro.", D:"Windows se desinstala.", ans:"A", why:"La memoria CMOS es vol√°til y requiere energ√≠a de la bater√≠a para guardar los ajustes."},
      {n:67, q:"Define 'Chipset':", A:"Conjunto de chips que gestiona el tr√°fico de datos en la placa madre.", B:"Un conjunto de cables.", C:"El ventilador del CPU.", D:"La tarjeta de sonido.", ans:"A", why:"Act√∫a como el centro de comunicaciones entre procesador, memoria y perif√©ricos."},
      {n:68, q:"Bus para tarjetas gr√°ficas modernas de alto rendimiento:", A:"PCIe (PCI Express)", B:"ISA", C:"PCI", D:"USB 2.0", ans:"A", why:"PCIe ofrece el ancho de banda masivo necesario para gr√°ficos modernos."},
      {n:69, q:"¬øPor qu√© UEFI arranca m√°s r√°pido que BIOS?", A:"Inicializaci√≥n paralela de hardware y dise√±o eficiente.", B:"Omite chequear la RAM.", C:"Usa menos electricidad.", D:"Tiene menos c√≥digo.", ans:"A", why:"UEFI est√° optimizado y carga controladores de forma m√°s eficiente."},
      {n:70, q:"Riesgo de actualizar la BIOS incorrectamente:", A:"El equipo puede quedar inoperable ('bricked').", B:"Se borran tus fotos.", C:"Se quema el monitor.", D:"El teclado deja de funcionar.", ans:"A", why:"Si el firmware de arranque se corrompe, la computadora no sabe c√≥mo iniciar."},

      // 71-80: Voltajes, Conectores y Buses
      {n:71, q:"Voltajes est√°ndar suministrados por una PSU:", A:"3.3V, 5V y 12V", B:"110V y 220V", C:"10V, 20V y 30V", D:"Solo 12V", ans:"A", why:"Son los rieles de voltaje continuo (DC) est√°ndar para los componentes internos."},
      {n:72, q:"¬øQu√© es el 'factor de forma' de una placa madre?", A:"Est√°ndar de dimensiones y distribuci√≥n (ej. ATX, Micro-ATX).", B:"La velocidad del bus.", C:"La cantidad de RAM.", D:"El color de la placa.", ans:"A", why:"Asegura que la placa encaje f√≠sicamente en el gabinete (case)."},
      {n:73, q:"¬øUEFI soporta discos mayores a 2.2 TB?", A:"Verdadero (usa GPT).", B:"Falso (usa MBR).", C:"Solo si es marca Samsung.", D:"Solo en laptops.", ans:"A", why:"UEFI usa el esquema GPT, superando el l√≠mite de tama√±o del viejo MBR."},
      {n:74, q:"Funci√≥n del 'Bus de Control':", A:"Transportar se√±ales de mando y sincronizaci√≥n.", B:"Llevar los datos del usuario.", C:"Suministrar corriente el√©ctrica.", D:"Conectar el mouse.", ans:"A", why:"Coordina el uso de los buses de datos y direcciones (ej. lectura/escritura)."},
      {n:75, q:"¬øD√≥nde se ubica el bus local en la jerarqu√≠a?", A:"Conectando CPU con memoria cach√©/principal (alta velocidad).", B:"En el teclado.", C:"Conectando la impresora.", D:"Fuera del gabinete.", ans:"A", why:"Es el bus de mayor velocidad y menor latencia para componentes cr√≠ticos."},
      {n:76, q:"¬øQu√© significa memoria 'DDR'?", A:"Double Data Rate (Doble tasa de datos).", B:"Direct Data RAM.", C:"Digital Disk Recording.", D:"Dual Drive Ready.", ans:"A", why:"Transfiere datos dos veces por cada ciclo de reloj."},
      {n:77, q:"¬øQu√© es la 'RAM CMOS'?", A:"Memoria vol√°til en la placa que guarda configuraci√≥n de BIOS.", B:"La memoria RAM principal del PC.", C:"Memoria de video.", D:"Un disco duro peque√±o.", ans:"A", why:"Almacena par√°metros del usuario (orden de boot, pass) y requiere bater√≠a."},
      {n:78, q:"Conector principal de corriente para la placa madre:", A:"ATX de 24 pines", B:"Molex", C:"SATA", D:"Floppy", ans:"A", why:"Es el est√°ndar actual para alimentar la placa base."},
      {n:79, q:"Define 'Puerto de E/S':", A:"Interfaz f√≠sica o l√≥gica para comunicar con perif√©ricos.", B:"La puerta del gabinete.", C:"Un programa de internet.", D:"El bot√≥n de reset.", ans:"A", why:"Ejemplos: USB, HDMI, Ethernet. Permiten conectar dispositivos externos."},
      {n:80, q:"Ventaja de certificaci√≥n '80 PLUS' en fuentes:", A:"Eficiencia energ√©tica >80% (menos calor/desperdicio).", B:"Que dura 80 a√±os.", C:"Que tiene 80 cables.", D:"Que cuesta 80 d√≥lares.", ans:"A", why:"Indica calidad y ahorro de energ√≠a en la conversi√≥n el√©ctrica."},

      // 81-90: Componentes, Hardware y Software
      {n:81, q:"Divisi√≥n cl√°sica del Chipset:", A:"Puente Norte (r√°pido) y Puente Sur (lento).", B:"Este y Oeste.", C:"Arriba y Abajo.", D:"Entrada y Salida.", ans:"A", why:"Northbridge manejaba RAM/Video; Southbridge manejaba E/S y discos (hoy integrados en CPU)."},
      {n:82, q:"¬øQu√© es un bus de expansi√≥n?", A:"Permite conectar perif√©ricos variados mediante ranuras est√°ndar.", B:"Un cable que se estira.", C:"Para conectar la fuente.", D:"Para conectar el monitor.", ans:"A", why:"Facilita la extensibilidad del sistema sin redise√±ar la placa."},
      {n:83, q:"Dispositivo t√≠pico de puerto USB:", A:"Teclado, rat√≥n, pendrive.", B:"El procesador.", C:"La memoria RAM.", D:"La tarjeta gr√°fica interna.", ans:"A", why:"USB (Universal Serial Bus) es el est√°ndar omnipresente para perif√©ricos."},
      {n:84, q:"Funci√≥n de los 'jumpers' antiguos:", A:"Configurar hardware cerrando circuitos manualmente.", B:"Saltar instrucciones.", C:"Acelerar el ventilador.", D:"Adorno est√©tico.", ans:"A", why:"Configuraci√≥n f√≠sica (ej. maestro/esclavo) antes de la automatizaci√≥n por software."},
      {n:85, q:"¬øLa CPU ejecuta instrucciones directo del disco duro?", A:"Falso, debe cargarlas en RAM primero.", B:"Verdadero.", C:"Solo si es SSD.", D:"Solo en Windows.", ans:"A", why:"El disco es muy lento; la CPU necesita los datos en la memoria principal (RAM)."},
      {n:86, q:"¬øQu√© significa 'Plug and Play' (PnP)?", A:"Detecci√≥n y configuraci√≥n autom√°tica de hardware nuevo.", B:"Conectar y jugar videojuegos.", C:"Que no necesita drivers.", D:"Que no usa electricidad.", ans:"A", why:"El sistema asigna recursos autom√°ticamente al conectar un dispositivo."},
      {n:87, q:"¬øQu√© es la pantalla de POST?", A:"Informe visual de la BIOS al arrancar (test de hardware).", B:"El fondo de escritorio de Windows.", C:"Un protector de pantalla.", D:"Un mensaje de error de internet.", ans:"A", why:"Muestra diagn√≥stico del hardware (RAM detectada, discos) al encender."},
      {n:88, q:"Memoria instalada en ranuras DIMM:", A:"Memoria RAM", B:"Memoria ROM", C:"Memoria USB", D:"Disco Duro", ans:"A", why:"DIMM es el factor de forma est√°ndar para m√≥dulos de RAM de escritorio."},
      {n:89, q:"Funci√≥n del ventilador de la PSU:", A:"Disipar calor de componentes internos para evitar sobrecalentamiento.", B:"Enfriar al usuario.", C:"Hacer ruido para saber que funciona.", D:"Generar electricidad e√≥lica.", ans:"A", why:"La conversi√≥n de energ√≠a genera calor que debe expulsarse de la fuente."},
      {n:90, q:"¬øUn SO de 64 bits requiere CPU de 64 bits?", A:"Verdadero.", B:"Falso.", C:"Depende de la marca.", D:"Solo para juegos.", ans:"A", why:"El software debe coincidir con la arquitectura del hardware subyacente."},

      // 91-100: Arquitectura, Drivers y Conceptos Finales
      {n:91, q:"¬øQu√© es un 'Driver'?", A:"Programa que permite al SO comunicarse con el hardware.", B:"El conductor del bus.", C:"Un destornillador.", D:"Un virus.", ans:"A", why:"Act√∫a como traductor entre el sistema operativo y el dispositivo f√≠sico."},
      {n:92, q:"Interfaz que transmite audio y video HD en un cable:", A:"HDMI", B:"VGA", C:"DVI", D:"RCA", ans:"A", why:"Est√°ndar actual para multimedia digital de alta definici√≥n."},
      {n:93, q:"Diferencia Bus Serial vs Paralelo:", A:"Serial: bit a bit por 1 l√≠nea. Paralelo: varios bits por muchas l√≠neas.", B:"Serial es m√°s lento siempre.", C:"Paralelo usa 1 cable.", D:"Son iguales.", ans:"A", why:"Buses seriales modernos (PCIe, SATA) son m√°s r√°pidos que los paralelos antiguos por menos interferencia."},
      {n:94, q:"Prop√≥sito de cach√© L1, L2, L3:", A:"Reducir tiempo de acceso a datos frecuentes (intermediario CPU-RAM).", B:"Guardar fotos.", C:"Reemplazar al disco duro.", D:"Enfriar la CPU.", ans:"A", why:"Almacena copias de datos usados cerca de los n√∫cleos para velocidad."},
      {n:95, q:"¬øQu√© es la 'frecuencia de reloj'?", A:"Velocidad de ciclos de operaci√≥n de la CPU (Hz/GHz).", B:"La hora del sistema.", C:"La velocidad de internet.", D:"La velocidad del ventilador.", ans:"A", why:"Indica cu√°ntos ciclos de procesamiento realiza por segundo."},
      {n:96, q:"Componente que mantiene temperatura segura del CPU:", A:"Disipador y Ventilador (Cooler).", B:"Fuente de poder.", C:"Pasta t√©rmica sola.", D:"La caja del PC.", ans:"A", why:"Absorbe y disipa el calor generado por la alta velocidad de la CPU."},
      {n:97, q:"¬øQu√© pasa en la etapa 'Fetch'?", A:"CPU lee la siguiente instrucci√≥n desde memoria.", B:"CPU ejecuta la orden.", C:"CPU guarda el resultado.", D:"CPU se apaga.", ans:"A", why:"Es el primer paso del ciclo: buscar la orden a realizar."},
      {n:98, q:"Define 'Ancho de banda' de un bus:", A:"Cantidad m√°xima de datos transferibles por unidad de tiempo.", B:"El grosor del cable.", C:"La longitud del cable.", D:"El precio del bus.", ans:"A", why:"Determina la capacidad de transporte de informaci√≥n (ej. GB/s)."},
      {n:99, q:"¬øQu√© es un Z√≥calo ZIF?", A:"Zero Insertion Force (permite poner CPU sin presi√≥n).", B:"Un z√≥calo muy fuerte.", C:"Un z√≥calo soldado.", D:"Un z√≥calo para RAM.", ans:"A", why:"Usa una palanca para evitar da√±ar los pines delicados al instalar la CPU."},
      {n:100, q:"¬øCu√°l es el 'tablero principal' del PC?", A:"Motherboard (Placa Madre)", B:"CPU", C:"Fuente", D:"Gabinete", ans:"A", why:"Plataforma que interconecta el√©ctrica y l√≥gicamente todos los componentes."}, // <--- COMA AGREGADA AQU√ç

      {n:101, q:"¬øQu√© significa el acr√≥nimo 'USB'?", A:"Universal Serial Bus (Bus Universal en Serie).", B:"Universal System Bus.", C:"Union Serial Board.", D:"Unique Serial Bridge.", ans:"A", why:"Est√°ndar industrial desarrollado para conectar perif√©ricos a una computadora de forma universal."},
      {n:102, q:"Ventaja principal de USB frente a puertos antiguos (Paralelo/Serial):", A:"Permite conexi√≥n en caliente (Hot-swap) y suministra energ√≠a.", B:"Es m√°s grande y dif√≠cil de romper.", C:"Requiere reiniciar el PC para funcionar.", D:"Solo funciona con ratones.", ans:"A", why:"Puedes conectar y desconectar dispositivos sin apagar el equipo, y adem√°s los alimenta el√©ctricamente."},
      {n:103, q:"Define 'Factor de forma ATX':", A:"Est√°ndar de placa base m√°s com√∫n (305x244mm).", B:"Un tipo de tarjeta de video.", C:"Un procesador de Intel.", D:"Un cable de red.", ans:"A", why:"Define el tama√±o de la placa, posici√≥n de tornillos y fuente compatible."},
      {n:104, q:"Diferencia f√≠sica entre DIMM y SODIMM:", A:"DIMM es largo (escritorio); SODIMM es corto (laptops).", B:"DIMM es para laptops.", C:"SODIMM es para servidores.", D:"Son del mismo tama√±o.", ans:"A", why:"El tama√±o reducido de SODIMM (Small Outline) es ideal para espacios limitados como port√°tiles."},
      {n:105, q:"Puerto de video anal√≥gico est√°ndar por a√±os (15 pines, azul):", A:"VGA (Video Graphics Array)", B:"HDMI", C:"DVI", D:"DisplayPort", ans:"A", why:"Fue el est√°ndar principal para monitores CRT y los primeros LCD antes de la era digital."},
      {n:106, q:"¬øQu√© es la 'Latencia CAS' en RAM?", A:"Tiempo de retardo entre la solicitud del dato y su disponibilidad.", B:"La velocidad en MHz.", C:"La capacidad en GB.", D:"El voltaje de la memoria.", ans:"A", why:"Una latencia m√°s baja (menor n√∫mero) generalmente indica un rendimiento de respuesta m√°s r√°pido."},
      {n:107, q:"¬øC√≥mo se distingue visualmente un puerto USB 3.0?", A:"Tiene una leng√ºeta de color azul.", B:"Es redondo.", C:"Es de color rojo.", D:"Tiene 10 pines.", ans:"A", why:"El est√°ndar de colores suele usar azul para USB 3.0 para diferenciarlo del negro (USB 2.0)."},
      {n:108, q:"Funci√≥n del conector 'Molex' de 4 pines:", A:"Alimentar dispositivos antiguos (IDE, ventiladores).", B:"Conectar el monitor.", C:"Dar energ√≠a al CPU.", D:"Conectar el mouse.", ans:"A", why:"Es un conector de alimentaci√≥n heredado, mayormente reemplazado por SATA, pero a√∫n usado en ventiladores."},
      {n:109, q:"Define 'PFC Activo' en una fuente:", A:"Circuito que mejora la eficiencia energ√©tica y reduce desperdicio.", B:"Un ventilador extra.", C:"Un bot√≥n de apagado.", D:"Un tipo de cable.", ans:"A", why:"Las fuentes con PFC activo son m√°s eficientes y generan menos ruido el√©ctrico en la red."},
      {n:110, q:"¬øQu√© es un 'Z√≥calo LGA'?", A:"Z√≥calo con pines en la placa madre y contactos planos en la CPU.", B:"Z√≥calo con agujeros.", C:"CPU soldada.", D:"Z√≥calo para memoria RAM.", ans:"A", why:"Com√∫n en Intel, reduce riesgo de doblar pines en la CPU (traslada el riesgo a la placa)."},

      // 111-120: Redes, Energ√≠a y Almacenamiento
      {n:111, q:"Puerto para cable de red Ethernet (RJ-45):", A:"Puerto LAN / Ethernet", B:"Puerto Paralelo", C:"Puerto Serial", D:"Puerto VGA", ans:"A", why:"Permite la conexi√≥n f√≠sica a redes de √°rea local (LAN) y a internet."},
      {n:112, q:"¬øQu√© significa 'Dual Channel' en memoria?", A:"Acceso a dos m√≥dulos simult√°neamente, duplicando ancho de banda.", B:"Tener dos discos duros.", C:"Usar dos monitores.", D:"Tener dos CPUs.", ans:"A", why:"Mejora el rendimiento al usar dos canales de datos de 64 bits en paralelo."},
      {n:113, q:"Funci√≥n del conector EPS 4/8 pines:", A:"Suministrar energ√≠a dedicada y estable al procesador.", B:"Alimentar el disco duro.", C:"Dar energ√≠a a la gr√°fica.", D:"Encender los LEDs.", ans:"A", why:"Las CPUs modernas requieren una l√≠nea de 12V exclusiva separada del conector principal."},
      {n:114, q:"Define 'SATA' (Serial ATA):", A:"Interfaz para transferencia de datos con discos duros y SSDs.", B:"Un tipo de memoria RAM.", C:"Un procesador AMD.", D:"Un cable de audio.", ans:"A", why:"Reemplaz√≥ al est√°ndar PATA (IDE) con cables m√°s delgados y mayores velocidades."},
      {n:115, q:"¬øQu√© es un puerto 'PS/2'?", A:"Puerto antiguo de 6 pines para teclado (violeta) y mouse (verde).", B:"Puerto de impresora.", C:"Puerto de video.", D:"Puerto de red.", ans:"A", why:"Aunque reemplazado por USB, es valorado en entornos legacy o gaming por baja latencia."},
      {n:116, q:"¬øMicro-ATX es m√°s peque√±o que ATX?", A:"Verdadero.", B:"Falso.", C:"Son iguales.", D:"Micro-ATX es m√°s grande.", ans:"A", why:"Permite usar placas m√°s peque√±as en gabinetes est√°ndar, reduciendo ranuras de expansi√≥n."},
      {n:117, q:"¬øQu√© significa 'TDP' en un procesador?", A:"Calor m√°ximo (Watts) que el sistema debe disipar.", B:"Consumo el√©ctrico exacto.", C:"Velocidad del procesador.", D:"Temperatura m√°xima.", ans:"A", why:"Ayuda a elegir el disipador y la fuente de alimentaci√≥n adecuados para el calor generado."},
      {n:118, q:"¬øQu√© es una ranura M.2?", A:"Conector para tarjetas peque√±as (SSD NVMe, Wi-Fi) directo en placa.", B:"Ranura para memoria RAM.", C:"Conector de corriente.", D:"Puerto USB interno.", ans:"A", why:"Permite conectar almacenamiento de alta velocidad sin cables, ahorrando espacio."},
      {n:119, q:"Diferencia entre PCI y PCIe:", A:"PCI es paralelo (lento/antiguo); PCIe es serial (r√°pido/moderno).", B:"PCI es m√°s r√°pido.", C:"Son lo mismo.", D:"PCIe es para impresoras.", ans:"A", why:"PCIe usa carriles seriales punto a punto, permitiendo un ancho de banda escalable y masivo."},
      {n:120, q:"¬øPara qu√© sirve la pasta t√©rmica?", A:"Mejorar la transferencia de calor entre CPU y disipador.", B:"Pegar el procesador.", C:"Limpiar el chip.", D:"Aislar electricidad.", ans:"A", why:"Elimina las bolsas de aire microsc√≥picas (mal conductor) para que el calor pase al disipador."},

      // 121-130: Diagn√≥stico, Chipsets y Voltajes
      {n:121, q:"S√≠ntoma de fuente de poder defectuosa:", A:"Reinicios aleatorios, no enciende u olor a quemado.", B:"Internet lento.", C:"El mouse se traba.", D:"La pantalla cambia de color.", ans:"A", why:"La inestabilidad en el voltaje provoca fallos impredecibles o apagados del sistema."},
      {n:122, q:"¬øQu√© es el 'Puente Norte' (Northbridge)?", A:"Chip que conectaba CPU con RAM y Video (Alta velocidad).", B:"Chip de audio.", C:"Chip de red.", D:"Chip de BIOS.", ans:"A", why:"En sistemas modernos, sus funciones est√°n integradas casi totalmente en el procesador."},
      {n:123, q:"¬øQu√© es el 'Puente Sur' (Southbridge)?", A:"Chip que controla E/S lentos (USB, SATA, BIOS).", B:"Controlador de memoria.", C:"Procesador gr√°fico.", D:"Fuente de poder.", ans:"A", why:"Gestiona los perif√©ricos y la comunicaci√≥n con el resto del sistema."},
      {n:124, q:"Voltaje del cable AMARILLO en Molex/SATA:", A:"12V", B:"5V", C:"3.3V", D:"220V", ans:"A", why:"Amarillo es est√°ndar para 12V (motores), Rojo para 5V (electr√≥nica) y Naranja para 3.3V."},
      {n:125, q:"¬øQu√© es 'Overclocking'?", A:"Configurar un componente a mayor velocidad de la f√°brica.", B:"Poner un reloj en pantalla.", C:"Bajar la velocidad para ahorrar.", D:"Limpiar el PC.", ans:"A", why:"Aumenta el rendimiento pero tambi√©n el calor y el consumo, requiriendo mejor refrigeraci√≥n."},
      {n:126, q:"Define 'Firmware':", A:"Software de bajo nivel que controla hardware espec√≠fico (ej. BIOS).", B:"Un antivirus.", C:"El sistema operativo.", D:"Un juego.", ans:"A", why:"Es 'software incrustado' en el hardware, vital para su funcionamiento b√°sico."},
      {n:127, q:"Puerto digital de video, competidor de HDMI en PC:", A:"DisplayPort", B:"VGA", C:"RCA", D:"DVI-A", ans:"A", why:"Est√°ndar libre muy usado en monitores de PC de alta gama y tarjetas gr√°ficas."},
      {n:128, q:"¬øQu√© significa fuente 'Modular'?", A:"Cables desmontables (se usan solo los necesarios).", B:"Fuente externa.", C:"Fuente sin cables.", D:"Fuente de colores.", ans:"A", why:"Mejora el flujo de aire y la organizaci√≥n al no tener cables sobrantes dentro del gabinete."},
      {n:129, q:"¬øQu√© determina el 'Bus de Direcciones'?", A:"La cantidad m√°xima de memoria que la CPU puede direccionar.", B:"La velocidad de internet.", C:"El tama√±o del disco.", D:"La resoluci√≥n de pantalla.", ans:"A", why:"Cada l√≠nea representa un bit de direcci√≥n; m√°s l√≠neas = m√°s memoria accesible (ej. 32 vs 64 bits)."},
      {n:130, q:"¬øUn SSD es m√°s resistente a golpes que un HDD?", A:"Verdadero (no tiene partes m√≥viles).", B:"Falso.", C:"Son iguales.", D:"Depende de la marca.", ans:"A", why:"Al no tener platos giratorios ni cabezales mec√°nicos, los SSD son mucho m√°s robustos f√≠sicamente."},

      // 131-140: Arquitecturas y Componentes Espec√≠ficos
      {n:131, q:"¬øQu√© es la 'Arquitectura Harvard'?", A:"Usa memorias y buses separados para datos e instrucciones.", B:"Usa memoria compartida.", C:"No usa memoria.", D:"Es para m√≥viles.", ans:"A", why:"Permite acceso simult√°neo a datos e instrucciones, a diferencia de Von Neumann."},
      {n:132, q:"¬øQu√© es un 'Slot PCI' (antiguo)?", A:"Ranura blanca para tarjetas de sonido/red (antes de PCIe).", B:"Ranura para CPU.", C:"Conector de corriente.", D:"Puerto de impresora.", ans:"A", why:"Fue el est√°ndar paralelo dominante en los 90s para expansi√≥n."},
      {n:133, q:"Funci√≥n de la 'ALU':", A:"Realizar operaciones matem√°ticas y l√≥gicas.", B:"Guardar archivos.", C:"Conectarse a internet.", D:"Mostrar video.", ans:"A", why:"Es la calculadora fundamental dentro del procesador."},
      {n:134, q:"¬øQu√© es un 'Driver' de video?", A:"Software que permite al SO comunicarse con la tarjeta gr√°fica.", B:"Un juego de carreras.", C:"Un cable de video.", D:"El monitor.", ans:"A", why:"Sin el driver, la tarjeta gr√°fica no puede recibir instrucciones complejas del sistema operativo."},
      {n:135, q:"Conector para audio anal√≥gico (auriculares):", A:"Jack 3.5mm (Mini-jack)", B:"USB", C:"HDMI", D:"RCA", ans:"A", why:"Est√°ndar universal. Verde para salida (auriculares), Rosa para entrada (micr√≥fono)."},
      {n:136, q:"Define 'NVMe':", A:"Protocolo para SSDs de alta velocidad a trav√©s de PCIe.", B:"Un tipo de RAM.", C:"Una marca de disco.", D:"Un conector de video.", ans:"A", why:"Mucho m√°s r√°pido que SATA al reducir latencia y aprovechar el paralelismo de memorias flash."},
      {n:137, q:"¬øQu√© indica un 'Chipset Z' en Intel?", A:"Gama alta, permite overclocking.", B:"Gama baja.", C:"Para oficina.", D:"Chipset de video.", ans:"A", why:"Intel segmenta sus chipsets (H, B, Z); la serie Z es la m√°s completa para entusiastas."},
      {n:138, q:"¬øPor qu√© usar memoria ECC en servidores?", A:"Detecta y corrige errores de bits en tiempo real.", B:"Es m√°s barata.", C:"Es m√°s r√°pida.", D:"Tiene luces.", ans:"A", why:"Crucial para estabilidad y fiabilidad donde los datos no pueden corromperse (bancos, ciencia)."},
      {n:139, q:"¬øQu√© es la 'Litograf√≠a' (ej. 7nm)?", A:"Tama√±o de transistores; menor n√∫mero = mayor eficiencia/densidad.", B:"Tama√±o del monitor.", C:"Velocidad del ventilador.", D:"Peso del CPU.", ans:"A", why:"Procesos m√°s peque√±os permiten poner m√°s transistores en el mismo espacio."},
      {n:140, q:"¬øLa memoria ROM es vol√°til?", A:"Falso (retiene datos sin energ√≠a).", B:"Verdadero.", C:"A veces.", D:"Solo en laptops.", ans:"A", why:"ROM (Read-Only Memory) es no vol√°til; la RAM es la vol√°til."},

      // 141-150: Hardware Avanzado y Conceptos
      {n:141, q:"¬øQu√© es el 'Panel Frontal' en la placa?", A:"Pines para conectar botones (Power/Reset) y LEDs del gabinete.", B:"La pantalla.", C:"El teclado.", D:"Los puertos traseros.", ans:"A", why:"Permite interactuar con el encendido y ver la actividad del disco desde fuera de la caja."},
      {n:142, q:"Funci√≥n del VRM en la placa base:", A:"Convertir 12V de la fuente al voltaje bajo y exacto del CPU.", B:"Dar video.", C:"Controlar el audio.", D:"Conectar USB.", ans:"A", why:"Asegura alimentaci√≥n limpia y estable (ej. 1.2V) para el procesador."},
      {n:143, q:"¬øQu√© es DVI-D?", A:"Puerto DVI solo digital (sin pines anal√≥gicos).", B:"DVI anal√≥gico.", C:"DVI con audio.", D:"DVI de datos.", ans:"A", why:"DVI tiene variantes; la 'D' indica que solo lleva se√±al digital."},
      {n:144, q:"Ventaja de SSD M.2 NVMe vs SATA 2.5\":", A:"Mayor velocidad (x5-10) y conexi√≥n directa sin cables.", B:"Son m√°s baratos.", C:"Son m√°s grandes.", D:"Son m√°s lentos.", ans:"A", why:"Usan el bus PCIe directo, eliminando el cuello de botella del est√°ndar SATA."},
      {n:145, q:"¬øQu√© es 'Coil Whine'?", A:"Ruido agudo por vibraci√≥n de bobinas electr√≥nicas.", B:"Un virus.", C:"Error de disco.", D:"Ventilador sucio.", ans:"A", why:"Fen√≥meno f√≠sico en componentes de potencia; puede ser molesto pero no indica falla funcional."},
      {n:146, q:"¬øQu√© significa CPU 'Multin√∫cleo'?", A:"Tiene 2 o m√°s unidades de proceso independientes en un chip.", B:"Tiene dos ventiladores.", C:"Tiene dos memorias.", D:"Es muy r√°pida.", ans:"A", why:"Permite paralelismo real, ejecutando m√∫ltiples tareas simult√°neamente."},
      {n:147, q:"¬øQu√© es un 'Sistema Embebido'?", A:"Sistema dise√±ado para una funci√≥n dedicada (ej. microondas).", B:"Una PC Gamer.", C:"Un servidor.", D:"Una laptop.", ans:"A", why:"Optimizado para una tarea espec√≠fica, a diferencia de una PC de prop√≥sito general."},
      {n:148, q:"Factor de forma 'Mini-ITX':", A:"Placa muy peque√±a (17x17cm) para sistemas compactos.", B:"Placa gigante.", C:"Placa de servidor.", D:"Tarjeta de video.", ans:"A", why:"Ideal para HTPC o equipos peque√±os, mantiene compatibilidad con componentes est√°ndar."},
      {n:149, q:"¬øQu√© es la 'Jerarqu√≠a de Buses'?", A:"Organizaci√≥n en niveles de velocidad (R√°pido->Lento) unidos por puentes.", B:"Todos los buses iguales.", C:"Solo un bus para todo.", D:"No existe.", ans:"A", why:"Optimiza el flujo evitando que dispositivos lentos frenen a los r√°pidos (como la CPU/RAM)."},
      {n:150, q:"Funci√≥n de la FPU (Unidad de Punto Flotante):", A:"Realizar operaciones con decimales eficientemente.", B:"Manejar el teclado.", C:"Controlar el disco.", D:"Dar sonido.", ans:"A", why:"Especializada en c√°lculos matem√°ticos complejos (cient√≠ficos, gr√°ficos)."}, // <--- COMA AGREGADA AQU√ç
      // 151-160: Diagn√≥stico Avanzado y Puertos
      {n:151, q:"¬øQu√© es el 'POST' (Power-On Self Test)?", A:"Autocomprobaci√≥n de hardware al encender (CPU, RAM, Video).", B:"Un mensaje de correo.", C:"El apagado del sistema.", D:"Un virus de arranque.", ans:"A", why:"Verifica la integridad b√°sica del sistema antes de cargar el sistema operativo."},
      {n:152, q:"Funci√≥n principal de una ranura PCIe x16:", A:"Conectar tarjetas gr√°ficas dedicadas (alto ancho de banda).", B:"Conectar el mouse.", C:"Poner m√°s RAM.", D:"Conectar el disco duro.", ans:"A", why:"Los gr√°ficos requieren transferir enormes cantidades de datos r√°pidamente."},
      {n:153, q:"¬øEl conector USB-C define la velocidad del cable?", A:"Falso, solo define la forma f√≠sica.", B:"Verdadero.", C:"Solo en Apple.", D:"Solo en Android.", ans:"A", why:"La velocidad depende del est√°ndar soportado (2.0, 3.0, Thunderbolt), no del conector."},
      {n:154, q:"Intermediario entre CPU y almacenamiento lento:", A:"Memoria RAM", B:"Fuente de poder", C:"Monitor", D:"Teclado", ans:"A", why:"La CPU no puede esperar al disco duro; carga los programas en RAM para ejecutarlos."},
      {n:155, q:"Define 'Arquitectura Von Neumann':", A:"Instrucciones y datos comparten la misma memoria y bus.", B:"Memorias separadas.", C:"Sin memoria.", D:"Solo para calculadoras.", ans:"A", why:"Es el dise√±o base de casi todas las computadoras modernas."},
      {n:156, q:"¬øQu√© es el 'Bus de Sistema'?", A:"Bus principal que conecta CPU, Memoria y Cach√© L2.", B:"El bus del teclado.", C:"Un cable de red.", D:"El bus de la impresora.", ans:"A", why:"Es la autopista principal de datos dentro del procesador."},
      {n:157, q:"Ventaja de fuente 'Semi-Modular':", A:"Cables esenciales fijos, opcionales desmontables.", B:"Sin cables.", C:"Todos los cables fijos.", D:"Es inal√°mbrica.", ans:"A", why:"Equilibrio entre costo y orden; permite quitar cables innecesarios."},
      {n:158, q:"¬øQu√© se√±al transmite VGA?", A:"Anal√≥gica", B:"Digital pura", C:"De red", D:"Inal√°mbrica", ans:"A", why:"Usa se√±ales RGB anal√≥gicas, susceptibles a interferencias en cables largos."},
      {n:159, q:"¬øQu√© significa 'Socket AM4'?", A:"Z√≥calo dise√±ado para procesadores AMD espec√≠ficos.", B:"Z√≥calo Intel.", C:"Z√≥calo universal.", D:"Z√≥calo de memoria.", ans:"A", why:"Los z√≥calos no son universales; definen la compatibilidad f√≠sica con la CPU."},
      {n:160, q:"Define 'Perif√©rico de Entrada':", A:"Dispositivo que env√≠a datos a la PC (ej. Teclado).", B:"Monitor.", C:"Impresora.", D:"Parlantes.", ans:"A", why:"Permiten al usuario introducir informaci√≥n al sistema."},

      // 161-170: Memoria y Seguridad
      {n:161, q:"¬øQu√© es la 'Memoria Virtual'?", A:"Uso de espacio en disco como RAM extra (lento).", B:"Memoria en la nube.", C:"RAM muy r√°pida.", D:"Memoria de video.", ans:"A", why:"Permite ejecutar m√°s programas de los que caben en la RAM f√≠sica."},
      {n:162, q:"Funci√≥n de la Pila CMOS con PC enchufada:", A:"Respaldo por si se corta la luz (mantiene hora/BIOS).", B:"Da energ√≠a al CPU.", C:"Alimenta los ventiladores.", D:"No hace nada.", ans:"A", why:"Asegura que la configuraci√≥n no se pierda ante cortes de energ√≠a."},
      {n:163, q:"¬øQu√© es un 'Bus de Control'?", A:"L√≠neas que transportan comandos (leer, escribir, estado).", B:"L√≠neas de datos.", C:"Cable de poder.", D:"Bus de video.", ans:"A", why:"Coordina la actividad; sin √©l, los componentes no sabr√≠an qu√© hacer."},
      {n:164, q:"Diferencia HDD vs SSD:", A:"HDD: Platos magn√©ticos (lento). SSD: Chips flash (r√°pido).", B:"HDD es m√°s r√°pido.", C:"Son iguales.", D:"SSD es mec√°nico.", ans:"A", why:"El SSD es la evoluci√≥n principal en almacenamiento por velocidad y resistencia."},
      {n:165, q:"¬øQu√© es 'Secure Boot'?", A:"Impide ejecutar software no firmado al arrancar.", B:"Arranca m√°s r√°pido.", C:"Borra virus.", D:"Cifra el disco.", ans:"A", why:"Protege contra malware que intenta cargarse antes que el sistema operativo."},
      {n:166, q:"¬øQu√© significa 'Hz' en una CPU?", A:"Ciclos por segundo (Frecuencia).", B:"Tama√±o del chip.", C:"Memoria.", D:"Temperatura.", ans:"A", why:"3 GHz = 3 mil millones de ciclos por segundo."},
      {n:167, q:"¬øQu√© es el puerto 'Paralelo' (LPT)?", A:"Puerto antiguo de 25 pines (impresoras viejas).", B:"Puerto USB.", C:"Puerto de red.", D:"Puerto de audio.", ans:"A", why:"Enviaba m√∫ltiples bits a la vez, pero era voluminoso y lento."},
      {n:168, q:"¬øQui√©n determina la cantidad de USB/SATA nativos?", A:"El Chipset", B:"La CPU", C:"La Fuente", D:"La RAM", ans:"A", why:"El chipset (Puente Sur) gestiona la conectividad de E/S disponible."},
      {n:169, q:"Factor de forma 'Mini-ITX':", A:"Placa muy compacta (17x17cm).", B:"Placa gigante.", C:"Placa de laptop.", D:"Placa de servidor.", ans:"A", why:"Est√°ndar m√°s peque√±o com√∫n en el mercado de consumo."},
      {n:170, q:"¬øSe puede adaptar DVI a HDMI?", A:"Verdadero (se√±ales digitales compatibles).", B:"Falso.", C:"Solo con magia.", D:"Solo en Linux.", ans:"A", why:"Facilita la conexi√≥n de monitores, aunque DVI no suele llevar audio."},

      // 171-180: Memorias y Buses Espec√≠ficos
      {n:171, q:"¬øQu√© es SRAM (Est√°tica)?", A:"Memoria r√°pida y cara (Cach√©), no requiere refresco.", B:"Memoria lenta (RAM).", C:"Disco duro.", D:"Memoria USB.", ans:"A", why:"M√°s r√°pida que la DRAM pero ocupa mucho m√°s espacio f√≠sico."},
      {n:172, q:"Define 'Slot de Expansi√≥n':", A:"Conector en placa para tarjetas adicionales.", B:"Ranura de la caja.", C:"Conector de corriente.", D:"Puerto USB.", ans:"A", why:"Permite personalizar y mejorar la funcionalidad de la PC."},
      {n:173, q:"Conector de poder SATA:", A:"Plano, negro, 15 pines (para discos/SSD).", B:"Redondo.", C:"Cuadrado.", D:"Blanco grande.", ans:"A", why:"Est√°ndar moderno que reemplaz√≥ al Molex."},
      {n:174, q:"¬øQu√© significa I/O?", A:"Input/Output (Entrada/Salida).", B:"Internet/Online.", C:"Internal/Outside.", D:"Intel/Other.", ans:"A", why:"Concepto fundamental de comunicaci√≥n con el mundo exterior."},
      {n:175, q:"¬øQu√© es un 'Bus Local'?", A:"Bus de alta velocidad CPU-Perif√©ricos r√°pidos (evita cuellos de botella).", B:"Un bus lento.", C:"El bus del teclado.", D:"Un bus urbano.", ans:"A", why:"Conecta directamente dispositivos de alto rendimiento con la CPU."},
      {n:176, q:"Funci√≥n de la pasta t√©rmica:", A:"Rellenar huecos microsc√≥picos para mejorar conducci√≥n de calor.", B:"Pegar el cooler.", C:"Aislar calor.", D:"Limpiar la CPU.", ans:"A", why:"Elimina el aire (aislante) entre CPU y disipador."},
      {n:177, q:"¬øQu√© es el 'Backpanel'?", A:"Zona trasera con conectores (USB, Audio, LAN).", B:"La tapa lateral.", C:"El fondo de pantalla.", D:"La parte de abajo.", ans:"A", why:"Facilita conectar dispositivos sin abrir el equipo."},
      {n:178, q:"¬øLa BIOS est√° en el disco duro?", A:"Falso (est√° en un chip ROM/Flash en la placa).", B:"Verdadero.", C:"A veces.", D:"Solo en laptops.", ans:"A", why:"Es un firmware residente en la placa madre, no en el almacenamiento."},
      {n:179, q:"Interfaz r√°pida 'Thunderbolt':", A:"Alta velocidad, combina datos y video en un cable.", B:"Es lenta.", C:"Solo para audio.", D:"Solo para carga.", ans:"A", why:"Desarrollada por Intel/Apple, es de las m√°s r√°pidas externas."},
      {n:180, q:"¬øQu√© es la Cach√© L3?", A:"Memoria compartida por todos los n√∫cleos, m√°s lenta que L1/L2.", B:"La m√°s r√°pida.", C:"Memoria RAM.", D:"Disco duro.", ans:"A", why:"Ayuda a coordinar datos entre n√∫cleos y mejora rendimiento."},

      // 181-190: Sistemas, Voltajes y Refrigeraci√≥n
      {n:181, q:"Define 'RTOS' (Tiempo Real):", A:"SO dise√±ado para procesar datos sin retrasos (industrial/m√©dico).", B:"Windows 10.", C:"Un juego.", D:"Un reloj.", ans:"A", why:"Usado donde un retraso puede ser fatal (robots, maquinaria)."},
      {n:182, q:"¬øQu√© hace el Jumper 'Clear CMOS'?", A:"Corta energ√≠a de la pila para borrar configuraci√≥n de BIOS.", B:"Acelera el PC.", C:"Apaga el PC.", D:"Formatea el disco.", ans:"A", why:"Restablece la BIOS a f√°brica si hay errores de configuraci√≥n."},
      {n:183, q:"Voltaje de ventiladores est√°ndar:", A:"12V", B:"5V", C:"220V", D:"24V", ans:"A", why:"Est√°ndar de la industria para refrigeraci√≥n en escritorio."},
      {n:184, q:"Sistema de Bus Jer√°rquico:", A:"M√∫ltiples buses separados por velocidad y unidos por puentes.", B:"Un solo bus para todo.", C:"Sin buses.", D:"Buses inal√°mbricos.", ans:"A", why:"Evita que dispositivos lentos frenen a los r√°pidos."},
      {n:185, q:"Define 'Legacy':", A:"Hardware/Software antiguo mantenido por compatibilidad.", B:"Lo m√°s nuevo.", C:"Una marca.", D:"Un virus.", ans:"A", why:"Ejemplo: Soporte PS/2 en placas modernas."},
      {n:186, q:"¬øQu√© es un 'Heatpipe'?", A:"Tubo de cobre con l√≠quido para transferir calor en disipadores.", B:"Un tubo de agua.", C:"Un cable de red.", D:"Un adorno.", ans:"A", why:"Mecanismo principal de los coolers de aire modernos."},
      {n:187, q:"¬øQu√© es la 'Fragmentaci√≥n' en HDD?", A:"Archivos divididos en pedazos dispersos (ralentiza lectura).", B:"Disco roto.", C:"Disco lleno.", D:"Virus.", ans:"A", why:"Obliga al cabezal mec√°nico a moverse m√°s para leer un archivo."},
      {n:188, q:"¬øQu√© es 'Hot-Swap'?", A:"Conectar/desconectar dispositivos con el PC encendido.", B:"Cambio de temperatura.", C:"Cambio de usuario.", D:"Apagar r√°pido.", ans:"A", why:"Caracter√≠stica clave de USB y servidores."},
      {n:189, q:"Define 'Ancho de bus':", A:"N√∫mero de bits transmitidos simult√°neamente (ej. 64 bits).", B:"Largo del cable.", C:"Grosor del cable.", D:"Velocidad de la luz.", ans:"A", why:"Es como el n√∫mero de carriles en una autopista."},
      {n:190, q:"¬øQu√© es un 'Benchmark'?", A:"Prueba estandarizada para medir rendimiento.", B:"Una marca de PC.", C:"Un juego.", D:"Un antivirus.", ans:"A", why:"Permite comparar objetivamente la velocidad entre equipos."},

      // 191-200: Conceptos Finales y Definiciones
      {n:191, q:"¬øQu√© es la 'Densidad de Memoria'?", A:"Cantidad de datos almacenables en un espacio f√≠sico chip.", B:"Peso de la RAM.", C:"Grosor del chip.", D:"Velocidad.", ans:"A", why:"Mayor densidad permite m√≥dulos de mayor capacidad (ej. 32GB)."},
      {n:192, q:"Controlador de Memoria moderno:", A:"Gestiona flujo de RAM, integrado en la CPU.", B:"Est√° en el disco duro.", C:"Es un programa.", D:"Es el usuario.", ans:"A", why:"Antes estaba en la placa, ahora en la CPU para reducir latencia."},
      {n:193, q:"Define 'Refrigeraci√≥n L√≠quida':", A:"Usa l√≠quido y radiador para disipar calor (eficiente/silencioso).", B:"Usa hielo.", C:"Usa aire acondicionado.", D:"Sumergir el PC en agua.", ans:"A", why:"Alternativa de alto rendimiento a los disipadores de aire."},
      {n:194, q:"¬øQu√© es ESD?", A:"Descarga Electrost√°tica (puede da√±ar componentes).", B:"Un disco duro.", C:"Un tipo de pantalla.", D:"Un sonido.", ans:"A", why:"Se evita usando pulseras antiest√°ticas al armar PCs."},
      {n:195, q:"Puerto Serial (COM):", A:"Interfaz antigua bit a bit, vital en industria y redes.", B:"Puerto USB r√°pido.", C:"Puerto de juegos.", D:"Puerto de carga.", ans:"A", why:"Obsoleto en casa, est√°ndar en configuraci√≥n de routers industriales."},
      {n:196, q:"Funci√≥n de la Unidad de Control (UC):", A:"Decodificar instrucciones y dirigir a los dem√°s componentes.", B:"Hacer sumas.", C:"Guardar datos.", D:"Dar video.", ans:"A", why:"Es el 'director de orquesta' del procesador."},
      {n:197, q:"¬øQu√© significa sistema 'Escalable'?", A:"Puede crecer (m√°s RAM/CPU) para manejar m√°s carga.", B:"Que es grande.", C:"Que tiene escalera.", D:"Que es barato.", ans:"A", why:"Propiedad deseable para no tener que reemplazar todo el equipo."},
      {n:198, q:"Factor de forma 'E-ATX':", A:"Extended ATX (m√°s ancha, para servidores/entusiastas).", B:"Extra peque√±a.", C:"Econ√≥mica.", D:"Est√°ndar.", ans:"A", why:"Ofrece m√°s espacio para componentes y ranuras que ATX."},
      {n:199, q:"¬øQu√© es 'DisplayPort'?", A:"Interfaz digital moderna para monitores (reemplaza VGA/DVI).", B:"Puerto de impresora.", C:"Puerto de carga.", D:"Puerto de red.", ans:"A", why:"Est√°ndar preferido en monitores de alta gama y gaming."},
      {n:200, q:"Objetivo final de un Sistema Inform√°tico:", A:"Procesar datos para generar informaci√≥n √∫til y tomar decisiones.", B:"Gastar electricidad.", C:"Tener luces LED.", D:"Hacer ruido.", ans:"A", why:"El hardware y software son herramientas para resolver problemas humanos."}
    ];

    let QUESTIONS = [];
    let currentLimit = 0;
    let practiceMode = true;

    const setupScreen = document.getElementById("setupScreen");
    const quizScreen = document.getElementById("quizScreen");
    const quizEl = document.getElementById("quiz");
    const answeredEl = document.getElementById("answered");
    const totalQEl = document.getElementById("totalQ");
    const scoreEl = document.getElementById("score");
    const gradeBtn = document.getElementById("gradeBtn");
    const resetBtn = document.getElementById("resetBtn");
    const homeBtn = document.getElementById("homeBtn");
    const modeToggle = document.getElementById("modeToggle");
    const resultCard = document.getElementById("resultCard");
    const resultContent = document.getElementById("resultContent"); 
    const reviewWrongBtn = document.getElementById("reviewWrongBtn");
    const showAllBtn = document.getElementById("showAllBtn");
    const dynamicButtons = document.getElementById("dynamicButtons");

    // ==============================================
    // GENERAR BOTONES DE MEN√ö (20, 40 ... 200)
    // ==============================================
    function generateMenu() {
      dynamicButtons.innerHTML = '';
      for (let i = 20; i <= 200; i += 20) {
        const btn = document.createElement("button");
        btn.className = "btn-select";
        btn.textContent = `${i} Preguntas`;
        btn.onclick = () => startQuiz(i);
        dynamicButtons.appendChild(btn);
      }
    }

    generateMenu();

    function startQuiz(amount) {
      currentLimit = amount;
      
      // Usar DB completa o la de muestra
      let pool = MASTER_DB.length > 0 ? [...MASTER_DB] : [];
      
      // Barajar preguntas
      for (let i = pool.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [pool[i], pool[j]] = [pool[j], pool[i]];
      }
      
      QUESTIONS = pool.slice(0, amount);

      shuffleOptions();
      setupScreen.classList.add("hide");
      quizScreen.classList.remove("hide");
      resultCard.hidden = true;
      scoreEl.textContent = "0";
      window.scrollTo({ top: 0, behavior: "smooth" });
      renderQuiz();
    }

    function goHome() {
      setupScreen.classList.remove("hide");
      quizScreen.classList.add("hide");
      QUESTIONS = [];
      const existingAudio = document.getElementById("resultAudio");
      if(existingAudio) { existingAudio.pause(); existingAudio.currentTime = 0; }
    }

    function shuffleOptions() {
      QUESTIONS.forEach(item => {
        const correctText = item[item.ans];
        let options = [item.A, item.B, item.C, item.D];
        for (let i = options.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [options[i], options[j]] = [options[j], options[i]];
        }
        item.A = options[0]; item.B = options[1]; item.C = options[2]; item.D = options[3];
        
        if (item.A === correctText) item.ans = "A";
        else if (item.B === correctText) item.ans = "B";
        else if (item.C === correctText) item.ans = "C";
        else if (item.D === correctText) item.ans = "D";
      });
    }

    function renderQuiz() {
      quizEl.innerHTML = "";
      totalQEl.textContent = QUESTIONS.length;
      
      QUESTIONS.forEach((item, index) => {
        const card = document.createElement("section");
        card.className = "card question";
        card.dataset.idx = index;
        
        let innerHTML = `
          <div class="qhead">
            <div class="qnum">Pregunta ${index + 1} <span style="font-size:0.8em; color:var(--accent-blue);">(ID #${item.n})</span></div>
            <div class="qtext">${item.q}</div>
          </div>
          <div class="options" role="radiogroup">
            ${["A","B","C","D"].map(letter => `
              <label class="opt">
                <input type="radio" name="q_${index}" value="${letter}" />
                <span class="opt__letter">${letter}</span>
                <span class="opt__text">${item[letter]}</span>
              </label>
            `).join("")}
          </div>
          
          <textarea class="user-justification" placeholder="Tu justificaci√≥n (opcional)..."></textarea>
          
          <div class="official-explanation">
            <strong>Explicaci√≥n Correcta:</strong> ${item.why}
          </div>
          
          <div class="feedback" aria-live="polite"></div>
        `;
        card.innerHTML = innerHTML;
        quizEl.appendChild(card);
      });

      quizEl.querySelectorAll('input[type="radio"]').forEach(r => {
        r.addEventListener("change", (e) => {
          updateStats();
          const idx = parseInt(r.name.split('_')[1]);
          if (practiceMode) {
            checkOneMC(idx);
          } else {
            const card = document.querySelector(`.card.question[data-idx="${idx}"]`);
            card.classList.remove("ok","bad");
            card.querySelector(".official-explanation").style.display = "none";
            card.querySelector(".feedback").textContent = "";
          }
        });
      });

      handleModeChange();
    }

    function checkOneMC(idx) {
      const item = QUESTIONS[idx];
      const card = document.querySelector(`.card.question[data-idx="${idx}"]`);
      if (!item || !card) return;

      const chosen = document.querySelector(`input[name="q_${idx}"]:checked`)?.value;
      const fb = card.querySelector(".feedback");
      const expl = card.querySelector(".official-explanation");

      card.classList.remove("ok","bad");

      if (chosen === item.ans) {
        card.classList.add("ok");
        fb.textContent = `‚úÖ Correcto`;
      } else {
        card.classList.add("bad");
        fb.textContent = `‚ùå Incorrecto. La correcta era: ${item.ans}`;
      }
      expl.style.display = "block";
    }

    function updateStats() {
      let count = 0;
      QUESTIONS.forEach((item, index) => {
        if (document.querySelector(`input[name="q_${index}"]:checked`)) count++;
      });
      answeredEl.textContent = count;
    }

    function gradeAll() {
      let correctMC = 0;
      let totalMC = 0;

      QUESTIONS.forEach((item, index) => {
        const card = document.querySelector(`.card.question[data-idx="${index}"]`);
        const fb = card.querySelector(".feedback");
        const expl = card.querySelector(".official-explanation");
        
        card.classList.remove("ok","bad");
        totalMC++;
        
        const chosen = document.querySelector(`input[name="q_${index}"]:checked`)?.value;
        
        expl.style.display = "block";

        if (!chosen) {
          card.classList.add("bad");
          fb.textContent = `‚ö†Ô∏è Sin responder. Correcta: ${item.ans}`;
        } else if (chosen === item.ans) {
          correctMC++;
          card.classList.add("ok");
          fb.textContent = `‚úÖ Correcto`;
        } else {
          card.classList.add("bad");
          fb.textContent = `‚ùå Incorrecto. Correcta: ${item.ans}`;
        }
      });

      const percent = totalMC > 0 ? (correctMC / totalMC) * 100 : 0;
      scoreEl.textContent = percent.toFixed(0);

      // =============================================
      // L√ìGICA DE RESULTADOS (CORREGIDA .JPEG / .M4A)
      // =============================================
      
      const oldAudio = document.getElementById("resultAudio");
      if(oldAudio) { oldAudio.pause(); }

      let messageHTML = `<p style="font-size:1.2rem; font-weight:bold; color:var(--text-primary);">Puntaje Final: ${correctMC} de ${totalMC} (${percent.toFixed(0)}%).</p>`;
      
      let containerClass = "";
      let title = "";
      let imageSrc = "";
      let audioSrc = "";
      let extraText = "";

      if (percent === 100) {
        // CASO 1: NOTA PERFECTA - VEGETO
        containerClass = "state-perfect";
        title = "¬°PERFECCI√ìN ABSOLUTA! ¬°YOSHA!";
        imageSrc = "img/vegeto.jpeg";  // Corregido
        audioSrc = "img/yosha.mp3";
        extraText = "Estas listo.";

      } else if (percent >= 70) {
        // CASO 2: APROBADO - GOKU
        containerClass = "state-pass";
        title = "¬°HAS SUPERADO TU L√çMITE!";
        imageSrc = "img/goku.jpeg";    // Corregido
        audioSrc = "img/tabien.mp3";   // Corregido (.m4a)
        extraText = "Felicidades, has mejorado mucho pero sigues siendo homofobico";

      } else {
        // CASO 3: REPROBADO - MEME
        containerClass = "state-fail";
        title = "ASI MEJOR ABANDONA LA CARRERA XD";
        imageSrc = "img/meme.jpg";
        audioSrc = "img/riendo.mp3";   // Corregido (riendo.mp3)
        extraText = "\"Tranquilo, la materia se pone mejor cuando la repites el pr√≥ximo semestre.\"";
      }

      messageHTML += `
        <div class="result-container ${containerClass}">
          <div class="result-title">${title}</div>
          <img src="${imageSrc}" alt="Resultado" class="result-img" onerror="this.src='https://via.placeholder.com/300?text=IMAGEN+NO+ENCONTRADA'">
          <div class="result-text">${extraText}</div>
          
          <audio id="resultAudio" autoplay>
            <source src="${audioSrc}">
          </audio>
        </div>
      `;

      resultContent.innerHTML = messageHTML;
      resultCard.hidden = false;
      window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
    }

    resetBtn.addEventListener("click", () => startQuiz(currentLimit));
    
    reviewWrongBtn.addEventListener("click", () => {
      document.querySelectorAll(".card.question").forEach(card => {
        if (card.classList.contains("bad")) card.classList.remove("hide");
        else card.classList.add("hide");
      });
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    showAllBtn.addEventListener("click", () => {
      document.querySelectorAll(".card.question").forEach(c => c.classList.remove("hide"));
    });

    gradeBtn.addEventListener("click", gradeAll);
    homeBtn.addEventListener("click", goHome);
    
    modeToggle.addEventListener("change", (e) => {
      practiceMode = e.target.checked;
      handleModeChange();
    });

    function handleModeChange() {
      const userJustifications = document.querySelectorAll(".user-justification");
      userJustifications.forEach(el => {
        el.style.display = practiceMode ? "block" : "none";
      });

      if (!practiceMode) {
        document.querySelectorAll(".official-explanation").forEach(el => el.style.display = "none");
        document.querySelectorAll(".card").forEach(c => {
            if(resultCard.hidden) {
              c.classList.remove("ok", "bad");
              c.querySelector(".feedback").textContent = "";
            }
        });
      }
    }

    modeToggle.checked = true;
    handleModeChange();
  </script>
</body>

</html>

